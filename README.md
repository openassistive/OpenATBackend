OpenATBackend
================

[Swagger API Documentation](http://api.openassistive.org/docs/v1/#!/default/saveProject)


Open Assistive (Technology) - What is it? 
============================
Its a site to collate all Open source Hardware and Software projects from around the web that aim to help someone with disabilities (i.e. Assistive Technology).
The site (will be) a static site hosted by GitHub pages. Its dynamically generated by http://gohugo.io. The full site can be found at https://github.com/openassistive/OpenATFrontEnd

On the site a user can add a new project by adding a project from say Thingiverse, Sourceforge, Github or others. This API is then called that scrapes the site for the important meta-data and with "save" can then save the data to the GitHub repo for the front-end. Travis will then rebuild the site (or project maintainers will manually build the site daily).

Why this way? Well because we want to create a sustainable, low-cost and easy to manage system. We think this is one of the easiest - and most reliable "stacks" to do this! Its a bit of an experiment

Details
=======

OpenATBackend is a node server that has the following API routes:

* GET /add/[site-id]/[site-specific-/-parts]

	where site-id is one of:
 
	* github
	* sourceforge
	* instructables
	* pinshape
	* thingiverse
 
	And site-specific-/-parts relates to a project page url. E.g.

	* /add/github/acecentre/aacnews (relates to http://github.com/acecentre/aacnews) 
	* /add/sourceforge/projects/sawat (relates to http://sourceforge.net/projects/sawat)
	* /add/instructables/id/Eye-controlled-wheelchair  (relates to http://instructables.com/id/Eye-controlled-wheelchair/)
	* /add/pinshape/items/25871-3d-printed-slo-printed-lens-camera (relates to https://pinshape.com/items/25871-3d-printed-slo-printed-lens-camera)
	* /add/thingiverse/thing:180296 (relates to http://www.thingiverse.com/thing:180296)


	It will return either success:JSON feed of data from the URL or error:message. e.g.

	`{success: { short_title:"sawat", title :"SAW - Special Access to Windows",type:"software",authors:"mlundalv, stuartaw, walsh_jc",License:"GNU General Public License version 3.0 (GPLv3)",datemod:"2016-10-22 00:00",download_url:"http://www.sourceforge.net//projects/sawat/files/latest/download",project_url:"http://www.oatsoft.org/Software/SpecialAccessToWindows",description:"SAW - Special Access to Windows download. SAW - Special Access to Windows 2016-10-22 19:28:58 free download. SAW - Special Access to Windows SAW - Special Access to Windows - a programmable on-screen keyboard.",main_description:"SAW - Special Access to Windows - is a programmable on-screen keyboard. It is a powerful tool for providing Access to the Windows operating system for people who need alternative Switch or Pointing device input options.  \nThe new SAW 6 version - supported by the AEGIS project ([http://www.aegis-project.eu/](http://www.aegis-project.eu/)) - is now available. It is fully Windows 7-10 compatible, supports Unicode, includes its own \"Blade\" word prediction and abbreviation expansion engine, can interact with the CCF-SymbolServer for graphic symbol support ([http://conceptcoding.org/](http://conceptcoding.org/)), and adds several other feautures to make creating interfaces easy for those who use alternative inputs.",image:"images/full/saw",thumb:"images/thumb/saw",original_url:"https://github.com/alandmoore/wcgbrowser"}`

	`{ error: "page not found"}`

* POST /save/ (where a JSON formatted feed is posted)

It will return either success:short_title name or error:message

If you want to see the kind of data it passes try [this page](http://rawgit.com/willwade/3662333cd64a26e6337d128aa4ecf1b7/raw/fd696acfcef2359ecdca74c09b408f0afc3e2c06/test.html).

To run
======

You will need to set an environment variable 'GitHubOAuth' with your [GitHub Personal Access Token](https://github.com/settings/tokens). 
e.g. in your terminal:

	export GitHubOAuth='787a8sd78a7d8a7d87adhhas'
	git clone https://github.com/openassistive/OpenATBackend.git
	npm install
	node server.js 

then navigate to http://localhost:5000 to access the server. 


To Deploy
=========

[![Deploy](https://www.herokucdn.com/deploy/button.svg)](https://heroku.com/deploy)



Notes:
======

Code for gitPush are in ./js/git.
There are 3 functional js files:
    commandProcess, runCommand: for using git-cmd
    git.controller.js: for using nodegit, simplegit


Credits
====

Original structure by Dante Greeve Nov. 2016
